---
all:
  vars:
    ansible_user: ansible
    ansible_python_interpreter: /usr/bin/python3
    # NOTE: Update this path to match your SSH key location
    # Use absolute path to avoid tilde expansion issues
    ansible_ssh_private_key_file: ~/.ssh/ansible
    # SSH config is handled by ansible.cfg - do not add ansible_ssh_common_args here
    # to avoid duplicate -F flag issues
    
  children:
    # First master node - initializes the cluster
    k3s_initial_master:
      hosts:
        node-1:
          ansible_host: 192.168.50.41
          hostname: node-1.louielab.cc
    
    # Additional master nodes - join after initial setup
    k3s_additional_masters:
      hosts:
        node-2:
          ansible_host: 192.168.50.42
          hostname: node-2.louielab.cc
        node-3:
          ansible_host: 192.168.50.43
          hostname: node-3.louielab.cc
    
    # All master nodes (control plane)
    k3s_masters:
      children:
        k3s_initial_master:
        k3s_additional_masters:
    
    # All nodes in the cluster (masters are also workers in this setup)
    k3s_cluster:
      children:
        k3s_masters:
